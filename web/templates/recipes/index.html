{% extends 'base.html' %}

{% block head %}
    <script src="https://kit.fontawesome.com/b1aae60ff6.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/bootstrap-select.min.js"></script>
    <script src="{{ url_for('static', filename='ingredients.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="py-5 text-center">
        <h2>Search for Recipes</h2>
        <p class="lead">
            Enter ingredients below, then press search to find recipes containing those ingredients!
        </p>
    </div>
    <div class="row justify-content-center pb-3">
        <div class="input-group input-group-lg">
            <input id="ingredient-input" class="form-control" type="search"
                   placeholder="Add an ingredient" aria-describedby="button-add-ingredient">
            <button id="button-add-ingredient" class="btn btn-lg btn-primary" type="button"
                    onclick="addIngredient()">
                <i class="fas fa-plus" aria-hidden="true"></i>
                <span class="visually-hidden">Add Ingredient</span>
            </button>
        </div>
    </div>
    <div id="ingredients" class="row gy-2 pb-5">
        <div id="ingredient-template" class="ingredient btn-group bg-light border rounded-pill">
            <span></span>
            <button type="button" class="btn-close" aria-label="Remove"
                    onclick="deleteIngredient(this)"></button>
        </div>
    </div>
    <div class="row pb-3">
        <div class="col text-center">
            <div class="btn-group dropdown" role="group">
                <button id="button-add-ingredient" class="btn btn-lg btn-primary px-5"
                        type="button" onclick="search()">
                    <i class="fas fa-search px-1" aria-hidden="true"></i>
                    Search for Recipes
                </button>
                <button class="btn btn-lg btn-outline-secondary dropdown-toggle dropdown-toggle-split"
                        type="button" data-bs-toggle="dropdown" data-bs-reference="parent"
                        data-bs-auto-close="outside" aria-expanded="false">
                    <span class="visually-hidden">Toggle Search Options Dropdown</span>
                </button>
                <div class="dropdown-menu pb-0 w-100">
                    {% include 'recipes/search_options.html' %}
                </div>
            </div>
        </div>
    </div>
    <div class="row pb-5">
        <div class="col text-center">
            <div class="form-switch">
                <input class="form-check-input" type="checkbox" id="check-recipe-hide">
                <label class="form-check-label" for="check-recipe-hide">
                    Hide recipes with missing ingredients
                </label>
            </div>
        </div>
    </div>
    <div class="row row-cols-4 gx-5 gy-4 pb-5 justify-content-start">
        <div id="recipe-template" class="col recipe">
            <div class="text-overlay-container">
                <div class="text-overlay p-2">
                    <h3 class="text-center recipe-name"></h3>
                </div>
                <img class="img-fluid recipe-img" src="">
            </div>
            <div class="row rows-cols-3 gx-2 mt-2">
                <div class="col">
                    <i class="fas fa-dollar-sign" aria-hidden="true"></i>
                    <span class="recipe-price"></span>
                </div>
                <div class="col">
                    <i class="fas fa-clock" aria-hidden="true"></i>
                    <span class="recipe-time"></span>
                </div>
                <div class="col">
                    <i class="fas fa-heartbeat" aria-hidden="true"></i>
                    <span class="recipe-healthiness"></span>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
